<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>javascript</title>
<style>
div {
  border: 1px solid red;
  padding: 10px;
  margin: 10px;
}
</style>

</head>
<body>
<h1>AJAX(Asynchronous JavaScript and XML) - 비동기 방식</h1>
<pre>
- 별도 스레드에게 작업을 위임시킨 후 즉시 리턴한다.
- 주의!
  웹서버로부터 응답을 받기 전에 리턴하기 때문에, 
  이전의 동식 방식에서처럼 바로 responseText 값을 사용해서는 안된다. 
</pre>

<button id="btn1" type="button">헤더 가져오기</button>

<div id="d1"></div>

<script>
"use strict"

document.querySelector('#btn1').onclick = function() {
  var xhr = new XMLHttpRequest();
  // 세 번째 파라미터의 값을 true로 설정하면 비동기 방식으로 동작한다.
  xhr.open("get", "test78_header.jsp", true);
  xhr.send(); // 웹서버에서 응답에 상관없이 즉시 리턴한다.
  
  // 웹서버의 응답 결과를  responseText라는 이름으로 저장하기 전에 
  // 사용한다면 당연히 responseText는 아무런 값이 없을 것이다.
  document.querySelector('#d1').innerHTML = xhr.responseText;
}

</script>

</body>
</html>






